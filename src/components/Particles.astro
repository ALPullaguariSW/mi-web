---
// src/components/Particles.astro
---
<div id="tsparticles" ></div>

<script>
  // En lugar de una importación nombrada, usamos una importación por defecto.
  // Esto es más compatible con cómo Vite maneja algunos paquetes.
  import { tsParticles } from "tsparticles-engine";
  import { loadSlim } from "tsparticles-slim";

  // La función de carga sigue siendo la misma.
  async function loadParticles() {
    await loadSlim(tsParticles);
    await tsParticles.load("tsparticles", {
      fpsLimit: 60,
        detectRetina: true,
        interactivity: {
          events: {
            onHover: { 
              enable: true, 
              mode: "repulse"
            },
          },
          modes: {
            repulse: { 
              distance: 100, 
              duration: 0.4 
            },
          },
        },
        particles: {
          color: { value: "#0ab2c9" },
          links: { color: "#ffffff", distance: 150, enable: true, opacity: 0.1, width: 1 },
          move: { direction: "none", enable: true, outModes: "out", random: false, speed: 2, straight: false },
          number: { density: { enable: true }, value: 80 },
          opacity: { value: 0.3 },
          shape: { type: "circle" },
          size: { value: { min: 1, max: 3 } },
        },
      });
    }
  

  // Asegurarnos de que se ejecute en el cliente
  if (typeof window !== 'undefined') {
    loadParticles();
  }
</script>